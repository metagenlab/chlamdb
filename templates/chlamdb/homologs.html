<!DOCTYPE html>


<html>



<head>
{% load static %}
{% load static %}
{% get_static_prefix as STATIC_PREFIX %}

{% include "chlamdb/header.html" %}

</head>

<body>
<div id="container2">

    <div id="content"> 

            <h3> Homologs for group: {{orthogroup}} (Identified with Orthofinder)</h3>

              <div class="container-fluid">
                <div class="col-lg-12">
                    <div style="padding-top:20px">
                      <div class="panel panel-default">
                        <div class="panel-heading">
                          <h3 class="panel-title">Homologs</h3>
                        </div>
                        <div class="panel-body">
                          {{homologues|length}} homologs were identified in {{ data.8 }} genomes with <a href="https://github.com/davidemms/OrthoFinder">OrthoFinder</a>.
                        </div>
                      </div>
                    </div>

                      <div class="row">

                             <table class="display" id="homologs"> <!--  class="sortable" -->
                                  <thead>
                                      <tr>
                                          <th></th>
                                          
                                          <th>Locus tag</th>
                                          {% if locus_tag %}
                                              <th>ID(%)</th>
                                          {% endif %}
                                          <th>Uniprot</th>
                                          <th>Gene</th>
                                          <th>TM</th>
                                          <th>SP</th>
                                          <th>Organism</th>
                                          <th>Product</th>
                      
                                          
                                      </tr>
                                  </thead>
                                  <tbody>
                                      {% for n,values in homologues.iterrows %}

                                      <!-- 1locus_tag,2gene,3product,4organism ,5orthogroup_size,6n_genomes,7TM,8SP,9comment_function-->
                                      <!-- 10gene  | 11annotation_score | 12uniprot_status | 13recommendedName_fullName -->
                                      gene                                            
                                      product                      
                                      organism  
                                      orthogroup_size  n_genomes  TM    SP uniprot_accession     locus_b  pident
                                          
                                          <tr>
                                              <td>{{forloop.counter}}</td>
                                              <td><a href="{% url 'locusx' values.locus_tag True %}" target="_top">{{values.locus_tag}}</a></td>
                                              {% if locus_tag %}
                                                  <td>{{values.pident}}</td> <!-- identity -->
                                              {% endif %}

                                              {% if values.uniprot_status == 'reviewed' or values.12 == '1' %}
                                                  <td style="color:red">reviewed </td>  <!-- review <img src="{{ STATIC_URL }}scales/reviewed.gif" id="rw">-->
                                              {%  else %}
                                                  <td>unreviewed</td> <!-- review <img src="{{ STATIC_URL }}scales/unreviewed.gif" id="uw">-->
                                              {% endif %}
                                              <td>{{values.gene}} <br> {{values.gene_up}}</td> <!-- gene -->
                                              <td>{{values.TM}}</td> <!-- tm -->
                                              <td>{{values.SP}}</td> <!-- sp -->
                                              <td>{{values.organism}}</td> <!-- organism -->
                                              <td>{{values.product}} <br>

                                              
                                          </tr>

                                      {% endfor %}
                                  </tbody>
                              </table>
                            </div>
                          </div>
                  </div>

             

        </div>


    </div>
</div>

</body>
<script>

  $(document).ready(function() {
  $('#homologs').DataTable( {
    dom: 'lBfrtip',
    buttons: [
        {
            extend: 'colvis',
            columns: ':not(.noVis)',
        },
        {
            extend: 'excel',
            title: 'homologs_{{orthogroup}}'
        },
        {
            extend: 'csv',
            title: 'homologs_{{orthogroup}}'
        }
    ],
  "paging":   true,
  "ordering": true,
  "info":     false
  } );
  } );

</script>



</html>
