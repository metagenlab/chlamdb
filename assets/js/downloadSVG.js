function downloadSVG(){var i='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';window.URL=window.URL||window.webkitURL;var e,c,s=document.body,a={xmlns:"http://www.w3.org/2000/xmlns/",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};function r(t){var e="untitled";t.id?e=t.id:t.class?e=t.class:window.document.title&&(e=window.document.title.replace(/[^a-z0-9]/gi,"-").toLowerCase());var n=window.URL.createObjectURL(new Blob(t.source,{type:"text/xml"})),o=document.createElement("a");s.appendChild(o),o.setAttribute("class","svg-crowbar"),o.setAttribute("download",e+".svg"),o.setAttribute("href",n),o.style.display="none",o.click(),setTimeout(function(){window.URL.revokeObjectURL(n)},10)}e=[window.document],c=[],iframes=document.querySelectorAll("iframe"),objects=document.querySelectorAll("object"),[].forEach.call(iframes,function(t){try{t.contentDocument&&e.push(t.contentDocument)}catch(t){console.log(t)}}),[].forEach.call(objects,function(t){try{t.contentDocument&&e.push(t.contentDocument)}catch(t){console.log(t)}}),e.forEach(function(t){for(var s,r,e,n=function(t){var o="",e=t.styleSheets;if(e)for(var n=0;n<e.length;n++)l(e[n]);function l(t){if(t.cssRules)for(var e=0;e<t.cssRules.length;e++){var n=t.cssRules[e];3===n.type?l(n.styleSheet):n.selectorText&&-1===n.selectorText.indexOf(">")&&(o+="\n"+n.cssText)}}return o}(t),o=(s=n,r=[],e=t.querySelectorAll("svg"),s=void 0===s?"":s,[].forEach.call(e,function(t){t.setAttribute("version","1.1");var e=document.createElement("defs");t.insertBefore(e,t.firstChild);var n=document.createElement("style");e.appendChild(n),n.setAttribute("type","text/css"),t.removeAttribute("xmlns"),t.removeAttribute("xlink"),t.hasAttributeNS(a.xmlns,"xmlns")||t.setAttributeNS(a.xmlns,"xmlns",a.svg),t.hasAttributeNS(a.xmlns,"xmlns:xlink")||t.setAttributeNS(a.xmlns,"xmlns:xlink",a.xlink);var o=(new XMLSerializer).serializeToString(t).replace("</style>","<![CDATA["+s+"]]></style>"),l=t.getBoundingClientRect();r.push({top:l.top,left:l.left,width:l.width,height:l.height,class:t.getAttribute("class"),id:t.getAttribute("id"),childElementCount:t.childElementCount,source:[i+o]})}),r),l=0;l<o.length;l++)c.push(o[l])}),1<c.length?function(t){var e;e=document.querySelectorAll(".svg-crowbar"),[].forEach.call(e,function(t){t.parentNode.removeChild(t)}),t.forEach(function(e){t.forEach(function(t){e!==t&&Math.abs(e.top-t.top)<38&&Math.abs(e.left-t.left)<38&&(t.top+=38,t.left+=38)})});var l=document.createElement("div");s.appendChild(l),l.setAttribute("class","svg-crowbar"),l.style["z-index"]=1e7,l.style.position="absolute",l.style.top=0,l.style.left=0;var n=document.createElement("div");s.appendChild(n),n.setAttribute("class","svg-crowbar"),n.style.background="rgba(255, 255, 255, 0.7)",n.style.position="fixed",n.style.left=0,n.style.top=0,n.style.width="100%",n.style.height="100%",t.forEach(function(e,t){var n=document.createElement("div");l.appendChild(n),n.setAttribute("class","svg-crowbar"),n.style.position="absolute",n.style.top=e.top+document.body.scrollTop+"px",n.style.left=document.body.scrollLeft+e.left+"px",n.style.padding="4px",n.style["border-radius"]="3px",n.style.color="white",n.style["text-align"]="center",n.style["font-family"]="'Helvetica Neue'",n.style.background="rgba(0, 0, 0, 0.8)",n.style["box-shadow"]="0px 4px 18px rgba(0, 0, 0, 0.4)",n.style.cursor="move",n.textContent="SVG #"+t+": "+(e.id?"#"+e.id:"")+(e.class?"."+e.class:"");var o=document.createElement("button");n.appendChild(o),o.setAttribute("data-source-id",t),o.style.width="150px",o.style["font-size"]="12px",o.style["line-height"]="1.4em",o.style.margin="5px 0 0 0",o.textContent="Download",o.onclick=function(t){r(e)}})}(c):0<c.length?r(c[0]):alert("The Crowbar couldnâ€™t find any SVG nodes.")}
